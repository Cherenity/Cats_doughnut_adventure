[gd_scene load_steps=41 format=3 uid="uid://chfoaw4yeslav"]

[ext_resource type="Script" path="res://Player/player.gd" id="1_5fklv"]
[ext_resource type="Texture2D" uid="uid://dg3l3x2reyisv" path="res://Art/CandyKitty.png" id="2_7rv81"]
[ext_resource type="PackedScene" uid="uid://cjg35b3sw73eb" path="res://Player/ghost.tscn" id="2_ro8qk"]
[ext_resource type="Texture2D" uid="uid://dunb70ivdbqjg" path="res://Art/CandyKittyBOX.png" id="2_ti4qu"]
[ext_resource type="Texture2D" uid="uid://ikca0pbrstbp" path="res://Art/Sprite-0001.png" id="3_7qwxg"]
[ext_resource type="Texture2D" uid="uid://bioiswbjtw7wm" path="res://Art/kitty.png" id="5_kle8w"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vah5w"]
atlas = ExtResource("2_ti4qu")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fluwa"]
atlas = ExtResource("2_ti4qu")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qttco"]
atlas = ExtResource("2_ti4qu")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ingfo"]
atlas = ExtResource("2_ti4qu")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tcqlo"]
atlas = ExtResource("2_ti4qu")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_chgs5"]
atlas = ExtResource("2_ti4qu")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rfdgb"]
atlas = ExtResource("2_ti4qu")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pxqa4"]
atlas = ExtResource("2_ti4qu")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3536"]
atlas = ExtResource("2_ti4qu")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cbpea"]
atlas = ExtResource("2_ti4qu")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_58lqb"]
atlas = ExtResource("2_ti4qu")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yga7d"]
atlas = ExtResource("2_ti4qu")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mf57x"]
atlas = ExtResource("2_7rv81")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lxxfh"]
atlas = ExtResource("2_7rv81")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_y2vg5"]
atlas = ExtResource("2_7rv81")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0pyuq"]
atlas = ExtResource("2_7rv81")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ixmc6"]
atlas = ExtResource("2_7rv81")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4a612"]
atlas = ExtResource("2_7rv81")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mcytr"]
atlas = ExtResource("2_7rv81")
region = Rect2(192, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_rars7"]
atlas = ExtResource("2_7rv81")
region = Rect2(224, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jryy"]
atlas = ExtResource("2_7rv81")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1klkh"]
atlas = ExtResource("2_7rv81")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_clc6o"]
atlas = ExtResource("5_kle8w")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jjve"]
atlas = ExtResource("5_kle8w")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5b5bh"]
atlas = ExtResource("5_kle8w")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7l147"]
atlas = ExtResource("5_kle8w")
region = Rect2(96, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_ru1ag"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vah5w")
}],
"loop": true,
"name": &"box_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fluwa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qttco")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ingfo")
}],
"loop": true,
"name": &"box_jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tcqlo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_chgs5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rfdgb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pxqa4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3536")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cbpea")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_58lqb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yga7d")
}],
"loop": true,
"name": &"box_run",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mf57x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lxxfh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y2vg5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0pyuq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ixmc6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4a612")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mcytr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rars7")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6jryy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1klkh")
}],
"loop": true,
"name": &"jump",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_clc6o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6jjve")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5b5bh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7l147")
}],
"loop": true,
"name": &"run",
"speed": 8.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_74a08"]
size = Vector2(19, 16)

[sub_resource type="Gradient" id="Gradient_r2le1"]
offsets = PackedFloat32Array(0.0909091, 0.335664, 0.531469, 0.685315, 0.86014)
colors = PackedColorArray(1, 1, 1, 1, 0.765314, 0.000269051, 0.716256, 1, 0.505988, 0.747141, 0.327924, 1, 0.57034, 0.62138, 0.955015, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_gj6q2"]
gradient = SubResource("Gradient_r2le1")

[sub_resource type="Curve" id="Curve_q7vtx"]
_data = [Vector2(0.30413, 1), 0.0, 0.0, 0, 0, Vector2(0.685857, 0), 0.0, 0.0, 0, 0, Vector2(0.768461, 0.242105), 0.0, 0.0, 0, 0, Vector2(0.782228, 0.252632), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_andll"]
curve = SubResource("Curve_q7vtx")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_18qgf"]
lifetime_randomness = 0.8
emission_shape = 6
emission_ring_axis = Vector3(0, 0, 1)
emission_ring_height = 1.0
emission_ring_radius = 1.0
emission_ring_inner_radius = 2.0
particle_flag_align_y = true
particle_flag_rotate_y = true
direction = Vector3(0, -1, 0)
gravity = Vector3(0, 0, 0)
initial_velocity_min = 20.2
initial_velocity_max = 74.01
linear_accel_min = 50.0
linear_accel_max = 50.0
radial_accel_min = -69.04
radial_accel_max = -29.34
damping_max = 2.0
scale_max = 4.0
scale_curve = SubResource("CurveTexture_andll")
color = Color(0.980392, 0.513726, 1, 0.568627)
color_ramp = SubResource("GradientTexture1D_gj6q2")
hue_variation_min = -0.14
hue_variation_max = 0.12

[sub_resource type="RectangleShape2D" id="RectangleShape2D_msuo2"]
size = Vector2(18, 15.25)

[node name="Player" type="CharacterBody2D"]
position = Vector2(1, -10)
script = ExtResource("1_5fklv")
ghost_node = ExtResource("2_ro8qk")
maxHealth = null

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, 4)
zoom = Vector2(3, 3)
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(-1, 3)
sprite_frames = SubResource("SpriteFrames_ru1ag")
animation = &"run"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1, 11)
shape = SubResource("RectangleShape2D_74a08")

[node name="JumpSfx" type="AudioStreamPlayer" parent="."]

[node name="dash_timer" type="Timer" parent="."]
wait_time = 0.2

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
show_behind_parent = true
position = Vector2(9, 12)
emitting = false
process_material = SubResource("ParticleProcessMaterial_18qgf")
texture = ExtResource("3_7qwxg")

[node name="GhostTimer" type="Timer" parent="."]
wait_time = 0.035

[node name="Direction" type="Marker2D" parent="."]

[node name="ActionableFinder" type="Area2D" parent="Direction"]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="Direction/ActionableFinder"]
position = Vector2(-1, 11)
shape = SubResource("RectangleShape2D_msuo2")

[connection signal="timeout" from="dash_timer" to="." method="_on_dash_timer_timeout"]
[connection signal="timeout" from="GhostTimer" to="." method="_on_ghost_timer_timeout"]
